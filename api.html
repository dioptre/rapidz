

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API &mdash; rapidz 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Collections API" href="collections-api.html" />
    <link rel="prev" title="Collections" href="collections.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> rapidz
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core.html">Core Streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataframes.html">DataFrames</a></li>
<li class="toctree-l1"><a class="reference internal" href="dask.html">Dask Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">Collections</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stream">Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#daskstream">DaskStream</a></li>
<li class="toctree-l2"><a class="reference internal" href="#definitions">Definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="collections-api.html">Collections API</a></li>
<li class="toctree-l1"><a class="reference internal" href="async.html">Asynchronous Computation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rapidz</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="stream">
<h2>Stream<a class="headerlink" href="#stream" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.Stream" title="rapidz.Stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream</span></code></a>([upstream,&nbsp;upstreams,&nbsp;stream_name,&nbsp;…])</td>
<td>A Stream is an infinite sequence of data</td>
</tr>
</tbody>
</table>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.accumulate" title="rapidz.accumulate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">accumulate</span></code></a>(upstream,&nbsp;func[,&nbsp;start,&nbsp;…])</td>
<td>Accumulate results with previous state</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.buffer" title="rapidz.buffer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buffer</span></code></a>(upstream,&nbsp;n,&nbsp;**kwargs)</td>
<td>Allow results to pile up at this point in the stream</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.collect" title="rapidz.collect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect</span></code></a>(upstream[,&nbsp;cache])</td>
<td>Hold elements in a cache and emit them as a collection when flushed.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.combine_latest" title="rapidz.combine_latest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_latest</span></code></a>(*upstreams,&nbsp;**kwargs)</td>
<td>Combine multiple streams together to a stream of tuples</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.connect</span></code>(downstream)</td>
<td>Connect this stream to a downstream element.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.delay" title="rapidz.delay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delay</span></code></a>(upstream,&nbsp;interval,&nbsp;**kwargs)</td>
<td>Add a time delay to results</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.destroy</span></code>([streams])</td>
<td>Disconnect this stream from any upstream sources</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.disconnect</span></code>(downstream)</td>
<td>Disconnect this stream to a downstream element.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.filter" title="rapidz.filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code></a>(upstream,&nbsp;predicate,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Only pass through elements that satisfy the predicate</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.flatten" title="rapidz.flatten"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flatten</span></code></a>([upstream,&nbsp;upstreams,&nbsp;stream_name,&nbsp;…])</td>
<td>Flatten streams of lists or iterables into a stream of elements</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.map" title="rapidz.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code></a>(upstream,&nbsp;func,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Apply a function to every element in the stream</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.partition" title="rapidz.partition"><code class="xref py py-obj docutils literal notranslate"><span class="pre">partition</span></code></a>(upstream,&nbsp;n,&nbsp;**kwargs)</td>
<td>Partition stream into tuples of equal size</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.rate_limit" title="rapidz.rate_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rate_limit</span></code></a>(upstream,&nbsp;interval,&nbsp;**kwargs)</td>
<td>Limit the flow of data</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">scatter</span></code>(*args,&nbsp;**kwargs)</td>
<td>Convert local stream to Dask Stream</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.sink" title="rapidz.sink"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sink</span></code></a>(upstream,&nbsp;func,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Apply a function on every element</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.sliding_window" title="rapidz.sliding_window"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sliding_window</span></code></a>(upstream,&nbsp;n,&nbsp;**kwargs)</td>
<td>Produce overlapping tuples of size n</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">starmap</span></code>(upstream,&nbsp;func,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Apply a function to every element in the stream, splayed out</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.timed_window" title="rapidz.timed_window"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timed_window</span></code></a>(upstream,&nbsp;interval,&nbsp;**kwargs)</td>
<td>Emit a tuple of collected results every interval</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.union" title="rapidz.union"><code class="xref py py-obj docutils literal notranslate"><span class="pre">union</span></code></a>(*upstreams,&nbsp;**kwargs)</td>
<td>Combine multiple streams into one</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.unique" title="rapidz.unique"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unique</span></code></a>(upstream[,&nbsp;history,&nbsp;key])</td>
<td>Avoid sending through repeated elements</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.pluck" title="rapidz.pluck"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pluck</span></code></a>(upstream,&nbsp;pick,&nbsp;**kwargs)</td>
<td>Select elements from elements in the stream.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.zip" title="rapidz.zip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zip</span></code></a>(*upstreams,&nbsp;**kwargs)</td>
<td>Combine streams together into a stream of tuples</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.zip_latest" title="rapidz.zip_latest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zip_latest</span></code></a>(lossless,&nbsp;*upstreams,&nbsp;**kwargs)</td>
<td>Combine multiple streams together to a stream of tuples</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.filenames" title="rapidz.filenames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filenames</span></code></a>(path[,&nbsp;poll_interval,&nbsp;start])</td>
<td>Stream over filenames in a directory</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.from_kafka" title="rapidz.from_kafka"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_kafka</span></code></a>(topics,&nbsp;consumer_params[,&nbsp;…])</td>
<td>Accepts messages from Kafka</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.from_textfile" title="rapidz.from_textfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_textfile</span></code></a>(f[,&nbsp;poll_interval,&nbsp;delimiter,&nbsp;…])</td>
<td>Stream data from a text file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="daskstream">
<h2>DaskStream<a class="headerlink" href="#daskstream" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#rapidz.dask.DaskStream" title="rapidz.dask.DaskStream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DaskStream</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>A Parallel stream using Dask</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#rapidz.dask.gather" title="rapidz.dask.gather"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gather</span></code></a>([upstream,&nbsp;upstreams,&nbsp;stream_name,&nbsp;…])</td>
<td>Wait on and gather results from DaskStream to local Stream</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="rapidz.accumulate">
<code class="descclassname">rapidz.</code><code class="descname">accumulate</code><span class="sig-paren">(</span><em>upstream</em>, <em>func</em>, <em>start='--no-default--'</em>, <em>returns_state=False</em>, <em>reset_stream=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.accumulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulate results with previous state</p>
<p>This performs running or cumulative reductions, applying the function
to the previous total and the new element.  The function should take
two arguments, the previous accumulated state and the next element and
it should return a new accumulated state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>func: callable</strong></dt>
<dd></dd>
<dt><strong>start: object</strong></dt>
<dd><p class="first last">Initial value.  Defaults to the first submitted element</p>
</dd>
<dt><strong>returns_state: boolean, optional</strong></dt>
<dd><p class="first last">If true then func should return both the state and the value to emit
If false then both values are the same, and func returns one value</p>
</dd>
<dt><strong>reset_stream</strong> <span class="classifier-delimiter">:</span> <span class="classifier">Stream instance or None, optional</span></dt>
<dd><p class="first last">If not None, when the <code class="docutils literal notranslate"><span class="pre">reset_stream</span></code> stream emits the accumulate node’s
state will revert to the initial state (set by <code class="docutils literal notranslate"><span class="pre">start</span></code>), defaults
to None</p>
</dd>
<dt><strong>**kwargs:</strong></dt>
<dd><p class="first last">Keyword arguments to pass to func</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">accumulate</span><span class="p">(</span><span class="k">lambda</span> <span class="n">acc</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">acc</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">3</span>
<span class="go">6</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.buffer">
<code class="descclassname">rapidz.</code><code class="descname">buffer</code><span class="sig-paren">(</span><em>upstream</em>, <em>n</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow results to pile up at this point in the stream</p>
<p>This allows results to buffer in place at various points in the stream.
This can help to smooth flow through the system when backpressure is
applied.</p>
</dd></dl>

<dl class="function">
<dt id="rapidz.collect">
<code class="descclassname">rapidz.</code><code class="descname">collect</code><span class="sig-paren">(</span><em>upstream</em>, <em>cache=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Hold elements in a cache and emit them as a collection when flushed.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source1</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source2</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collector</span> <span class="o">=</span> <span class="n">collect</span><span class="p">(</span><span class="n">source1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collector</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source2</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="n">collector</span><span class="o">.</span><span class="n">flush</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source1</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source1</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source2</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s1">&#39;anything&#39;</span><span class="p">)</span>  <span class="c1"># flushes collector</span>
<span class="gp">...</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.combine_latest">
<code class="descclassname">rapidz.</code><code class="descname">combine_latest</code><span class="sig-paren">(</span><em>*upstreams</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.combine_latest" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine multiple streams together to a stream of tuples</p>
<p>This will emit a new tuple of all of the most recent elements seen from
any stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>emit_on</strong> <span class="classifier-delimiter">:</span> <span class="classifier">stream or list of streams or None</span></dt>
<dd><p class="first last">only emit upon update of the streams listed.
If None, emit on update from any stream</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#rapidz.zip" title="rapidz.zip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zip</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.delay">
<code class="descclassname">rapidz.</code><code class="descname">delay</code><span class="sig-paren">(</span><em>upstream</em>, <em>interval</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a time delay to results</p>
</dd></dl>

<dl class="function">
<dt id="rapidz.filter">
<code class="descclassname">rapidz.</code><code class="descname">filter</code><span class="sig-paren">(</span><em>upstream</em>, <em>predicate</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Only pass through elements that satisfy the predicate</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>predicate</strong> <span class="classifier-delimiter">:</span> <span class="classifier">function</span></dt>
<dd><p class="first last">The predicate. Should return True or False, where
True means that the predicate is satisfied.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">2</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.flatten">
<code class="descclassname">rapidz.</code><code class="descname">flatten</code><span class="sig-paren">(</span><em>upstream=None</em>, <em>upstreams=None</em>, <em>stream_name=None</em>, <em>loop=None</em>, <em>asynchronous=None</em>, <em>ensure_io_loop=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten streams of lists or iterables into a stream of elements</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#rapidz.partition" title="rapidz.partition"><code class="xref py py-obj docutils literal notranslate"><span class="pre">partition</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]:</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="go">5</span>
<span class="go">6</span>
<span class="go">7</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.map">
<code class="descclassname">rapidz.</code><code class="descname">map</code><span class="sig-paren">(</span><em>upstream</em>, <em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a function to every element in the stream</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>func: callable</strong></dt>
<dd></dd>
<dt><strong>*args :</strong></dt>
<dd><p class="first last">The arguments to pass to the function.</p>
</dd>
<dt><strong>**kwargs:</strong></dt>
<dd><p class="first last">Keyword arguments to pass to func</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">0</span>
<span class="go">2</span>
<span class="go">4</span>
<span class="go">6</span>
<span class="go">8</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.partition">
<code class="descclassname">rapidz.</code><code class="descname">partition</code><span class="sig-paren">(</span><em>upstream</em>, <em>n</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Partition stream into tuples of equal size</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">(0, 1, 2)</span>
<span class="go">(3, 4, 5)</span>
<span class="go">(6, 7, 8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.rate_limit">
<code class="descclassname">rapidz.</code><code class="descname">rate_limit</code><span class="sig-paren">(</span><em>upstream</em>, <em>interval</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.rate_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Limit the flow of data</p>
<p>This stops two elements of streaming through in an interval shorter
than the provided value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>interval: float</strong></dt>
<dd><p class="first last">Time in seconds</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rapidz.sink">
<code class="descclassname">rapidz.</code><code class="descname">sink</code><span class="sig-paren">(</span><em>upstream</em>, <em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.sink" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a function on every element</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#rapidz.map" title="rapidz.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.sink_to_list</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="go">123</span>
<span class="go">123</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span>
<span class="go">[123]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.sliding_window">
<code class="descclassname">rapidz.</code><code class="descname">sliding_window</code><span class="sig-paren">(</span><em>upstream</em>, <em>n</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.sliding_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce overlapping tuples of size n</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">sliding_window</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">(0, 1, 2)</span>
<span class="go">(1, 2, 3)</span>
<span class="go">(2, 3, 4)</span>
<span class="go">(3, 4, 5)</span>
<span class="go">(4, 5, 6)</span>
<span class="go">(5, 6, 7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.Stream">
<code class="descclassname">rapidz.</code><code class="descname">Stream</code><span class="sig-paren">(</span><em>upstream=None</em>, <em>upstreams=None</em>, <em>stream_name=None</em>, <em>loop=None</em>, <em>asynchronous=None</em>, <em>ensure_io_loop=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.Stream" title="Permalink to this definition">¶</a></dt>
<dd><p>A Stream is an infinite sequence of data</p>
<p>Streams subscribe to each other passing and transforming data between them.
A Stream object listens for updates from upstream, reacts to these updates,
and then emits more data to flow downstream to all Stream objects that
subscribe to it.  Downstream Stream objects may connect at any point of a
Stream graph to get a full view of the data coming off of that point to do
with as they will.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>asynchronous: boolean or None</strong></dt>
<dd><p class="first last">Whether or not this stream will be used in asynchronous functions or
normal Python functions.  Leave as None if you don’t know.
True will cause operations like emit to return awaitable Futures
False will use an Event loop in another thread (starts it if necessary)</p>
</dd>
<dt><strong>ensure_io_loop: boolean</strong></dt>
<dd><p class="first last">Ensure that some IOLoop will be created.  If asynchronous is None or
False then this will be in a separate thread, otherwise it will be
IOLoop.current</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">inc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>  <span class="c1"># Create a stream object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">inc</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="c1"># Subscribe to make new streams</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>  <span class="c1"># take an action whenever an element reaches the end</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">)</span>  <span class="c1"># or take multiple actions (streams can branch)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># push data in at the source</span>
<span class="go">&#39;1&#39;</span>
<span class="go">&#39;2&#39;</span>
<span class="go">&#39;3&#39;</span>
<span class="go">&#39;4&#39;</span>
<span class="go">&#39;5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span>  <span class="c1"># and the actions happen at the sinks</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.timed_window">
<code class="descclassname">rapidz.</code><code class="descname">timed_window</code><span class="sig-paren">(</span><em>upstream</em>, <em>interval</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.timed_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit a tuple of collected results every interval</p>
<p>Every <code class="docutils literal notranslate"><span class="pre">interval</span></code> seconds this emits a tuple of all of the results
seen so far.  This can help to batch data coming off of a high-volume
stream.</p>
</dd></dl>

<dl class="function">
<dt id="rapidz.union">
<code class="descclassname">rapidz.</code><code class="descname">union</code><span class="sig-paren">(</span><em>*upstreams</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine multiple streams into one</p>
<p>Every element from any of the upstreams streams will immediately flow
into the output stream.  They will not be combined with elements from
other streams.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.zip</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.combine_latest</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.unique">
<code class="descclassname">rapidz.</code><code class="descname">unique</code><span class="sig-paren">(</span><em>upstream</em>, <em>history=None</em>, <em>key=&lt;function identity&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Avoid sending through repeated elements</p>
<p>This deduplicates a stream so that only new elements pass through.
You can control how much of a history is stored with the <code class="docutils literal notranslate"><span class="pre">history=</span></code>
parameter.  For example setting <code class="docutils literal notranslate"><span class="pre">history=1</span></code> avoids sending through
elements when one is repeated right after the other.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">history</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">1</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.pluck">
<code class="descclassname">rapidz.</code><code class="descname">pluck</code><span class="sig-paren">(</span><em>upstream</em>, <em>pick</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.pluck" title="Permalink to this definition">¶</a></dt>
<dd><p>Select elements from elements in the stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>pluck</strong> <span class="classifier-delimiter">:</span> <span class="classifier">object, list</span></dt>
<dd><p class="first last">The element(s) to pick from the incoming element in the stream
If an instance of list, will pick multiple elements.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">pluck</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]]:</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">(1, 4)</span>
<span class="go">(4, 7)</span>
<span class="go">(8, 11)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">pluck</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">123</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">456</span><span class="p">}]:</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">&#39;Alice&#39;</span>
<span class="go">&#39;Bob&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.zip">
<code class="descclassname">rapidz.</code><code class="descname">zip</code><span class="sig-paren">(</span><em>*upstreams</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine streams together into a stream of tuples</p>
<p>We emit a new tuple once all streams have produce a new tuple.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#rapidz.combine_latest" title="rapidz.combine_latest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_latest</span></code></a>, <a class="reference internal" href="#rapidz.zip_latest" title="rapidz.zip_latest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zip_latest</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.zip_latest">
<code class="descclassname">rapidz.</code><code class="descname">zip_latest</code><span class="sig-paren">(</span><em>lossless</em>, <em>*upstreams</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.zip_latest" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine multiple streams together to a stream of tuples</p>
<p>The stream which this is called from is lossless. All elements from
the lossless stream are emitted reguardless of when they came in.
This will emit a new tuple consisting of an element from the lossless
stream paired with the latest elements from the other streams.
Elements are only emitted when an element on the lossless stream are
received, similar to <code class="docutils literal notranslate"><span class="pre">combine_latest</span></code> with the <code class="docutils literal notranslate"><span class="pre">emit_on</span></code> flag.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.combine_latest</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream.zip</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.filenames">
<code class="descclassname">rapidz.</code><code class="descname">filenames</code><span class="sig-paren">(</span><em>path</em>, <em>poll_interval=0.1</em>, <em>start=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream over filenames in a directory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>path: string</strong></dt>
<dd><p class="first last">Directory path or globstring over which to search for files</p>
</dd>
<dt><strong>poll_interval: Number</strong></dt>
<dd><p class="first last">Seconds between checking path</p>
</dd>
<dt><strong>start: bool (False)</strong></dt>
<dd><p class="first last">Whether to start running immediately; otherwise call stream.start()
explicitly.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="n">filenames</span><span class="p">(</span><span class="s1">&#39;path/to/dir&#39;</span><span class="p">)</span>  <span class="c1"># doctest: +SKIP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="n">filenames</span><span class="p">(</span><span class="s1">&#39;path/to/*.csv&#39;</span><span class="p">,</span> <span class="n">poll_interval</span><span class="o">=</span><span class="mf">0.500</span><span class="p">)</span>  <span class="c1"># doctest: +SKIP</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.from_kafka">
<code class="descclassname">rapidz.</code><code class="descname">from_kafka</code><span class="sig-paren">(</span><em>topics</em>, <em>consumer_params</em>, <em>poll_interval=0.1</em>, <em>start=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.from_kafka" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepts messages from Kafka</p>
<p>Uses the confluent-kafka library,
<a class="reference external" href="https://docs.confluent.io/current/clients/confluent-kafka-python/">https://docs.confluent.io/current/clients/confluent-kafka-python/</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>topics: list of str</strong></dt>
<dd><p class="first last">Labels of Kafka topics to consume from</p>
</dd>
<dt><strong>consumer_params: dict</strong></dt>
<dd><p class="first">Settings to set up the stream, see
<a class="reference external" href="https://docs.confluent.io/current/clients/confluent-kafka-python/#configuration">https://docs.confluent.io/current/clients/confluent-kafka-python/#configuration</a>
<a class="reference external" href="https://github.com/edenhill/librdkafka/blob/master/CONFIGURATION.md">https://github.com/edenhill/librdkafka/blob/master/CONFIGURATION.md</a>
Examples:
bootstrap.servers: Connection string(s) (host:port) by which to reach Kafka
group.id: Identity of the consumer. If multiple sources share the same</p>
<blockquote class="last">
<div><p>group, each message will be passed to only one of them.</p>
</div></blockquote>
</dd>
<dt><strong>poll_interval: number</strong></dt>
<dd><p class="first last">Seconds that elapse between polling Kafka for new messages</p>
</dd>
<dt><strong>start: bool (False)</strong></dt>
<dd><p class="first last">Whether to start polling upon instantiation</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rapidz.from_textfile">
<code class="descclassname">rapidz.</code><code class="descname">from_textfile</code><span class="sig-paren">(</span><em>f</em>, <em>poll_interval=0.1</em>, <em>delimiter='\n'</em>, <em>start=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.from_textfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream data from a text file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>f: file or string</strong></dt>
<dd><dl class="first docutils">
<dt>poll_interval: Number</dt>
<dd><p class="first last">Interval to poll file for new data in seconds</p>
</dd>
</dl>
<p class="last">delimiter: str (“</p>
</dd>
<dt><strong>“)</strong></dt>
<dd><blockquote class="first">
<div><p>Character(s) to use to split the data into parts</p>
</div></blockquote>
<dl class="last docutils">
<dt>start: bool (False)</dt>
<dd><p class="first last">Whether to start running immediately; otherwise call stream.start()
explicitly.</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>Stream</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="rapidz.dask.DaskStream">
<code class="descclassname">rapidz.dask.</code><code class="descname">DaskStream</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.dask.DaskStream" title="Permalink to this definition">¶</a></dt>
<dd><p>A Parallel stream using Dask</p>
<p>This object is fully compliant with the <code class="docutils literal notranslate"><span class="pre">rapidz.core.Stream</span></code> object but
uses a Dask client for execution.  Operations like <code class="docutils literal notranslate"><span class="pre">map</span></code> and
<code class="docutils literal notranslate"><span class="pre">accumulate</span></code> submit functions to run on the Dask instance using
<code class="docutils literal notranslate"><span class="pre">dask.distributed.Client.submit</span></code> and pass around Dask futures.
Time-based operations like <code class="docutils literal notranslate"><span class="pre">timed_window</span></code>, buffer, and so on operate as
normal.</p>
<p>Typically one transfers between normal Stream and DaskStream objects using
the <code class="docutils literal notranslate"><span class="pre">Stream.scatter()</span></code> and <code class="docutils literal notranslate"><span class="pre">DaskStream.gather()</span></code> methods.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dask.distributed.Client</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dask.distributed</span> <span class="k">import</span> <span class="n">Client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rapidz</span> <span class="k">import</span> <span class="n">Stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">source</span><span class="o">.</span><span class="n">scatter</span><span class="p">()</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">func</span><span class="p">)</span><span class="o">.</span><span class="n">accumulate</span><span class="p">(</span><span class="n">binop</span><span class="p">)</span><span class="o">.</span><span class="n">gather</span><span class="p">()</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="rapidz.dask.gather">
<code class="descclassname">rapidz.dask.</code><code class="descname">gather</code><span class="sig-paren">(</span><em>upstream=None</em>, <em>upstreams=None</em>, <em>stream_name=None</em>, <em>loop=None</em>, <em>asynchronous=None</em>, <em>ensure_io_loop=False</em><span class="sig-paren">)</span><a class="headerlink" href="#rapidz.dask.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait on and gather results from DaskStream to local Stream</p>
<p>This waits on every result in the stream and then gathers that result back
to the local stream.  Warning, this can restrict parallelism.  It is common
to combine a <code class="docutils literal notranslate"><span class="pre">gather()</span></code> node with a <code class="docutils literal notranslate"><span class="pre">buffer()</span></code> to allow unfinished
futures to pile up.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buffer</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">scatter</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">local_stream</span> <span class="o">=</span> <span class="n">dask_stream</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">gather</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="collections-api.html" class="btn btn-neutral float-right" title="Collections API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collections.html" class="btn btn-neutral float-left" title="Collections" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Matthew Rocklin

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>